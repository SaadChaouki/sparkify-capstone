
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>

<!DOCTYPE html>
<html lang="en">
<title>Sparify Dashboard</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body,h1,h2,h3,h4,h5,h6 {font-family: "Open Sans", sans-serif}
.w3-bar,h1,button {font-family: "Montserrat", sans-serif}
.fa-anchor,.fa-coffee {font-size:200px}
</style>
<body>


<!-- Header -->
<header class="w3-container w3-light-blue w3-center" style="padding:80px 16px">
  <h1 class="w3-margin w3-jumbo">Sparkify</h1>
  <p class="w3-xlarge">A Udacity Capstone Project</p>
</header>

<!-- First Grid -->
<div class="w3-row-padding w3-light-grey w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-third w3-center">
      <i class="fa fa-database fa-5x w3-padding-64 w3-text-light-blue w3-margin-right"></i>
      <p> </p>
      <i class="fa fa-bar-chart fa-5x w3-padding-64 w3-text-light-blue w3-margin-right"></i>
    </div>

    <div class="w3-twothird">
      <h1>Udacity Capstone Project</h1>
      <h5 class="w3-padding-32">Predicting user churn of a digital music service similar to Spotify using PySpark.</h5>
      <p class="w3-text-grey">
          Sparkify is a fictional digital service service that is similar to Spotify. For this project, we were given a Sparkify dataset that contains interactions of users with the service. This includes listening to songs, adding songs to playlists, and upgrading/downgrading service.
          We will be using this data to determine if a user is going to churn in the next week or not. This will be based on the change of behaviour that we see for the users regarding some specific actions.
          For each user, a date will be selected that is either the week when they left the service or a random week if they did not. We will then select 2 weeks of data prior to them leaving and compare the change from one week to the other. This will allow us to capture any potential
          decrease in the use of Sparkify and predict churn based on that.
      </p>
    </div>
  </div>
</div>



<!-- Second Grid -->
<div class="w3-row-padding w3-padding-64 w3-container">
  <div class="w3-content">

    <div class="w3-twothird">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="chart" id="bargraph">
                        <script>
                            var graphs = {{plot | safe}};
                            Plotly.plot('bargraph',graphs,{});
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="w3-third">
        <h1>Visualisation</h1>
        <form class="form-inline" method="POST" action="{{ url_for('refresh') }}">
          <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon">View</span>
                    <select name="comp_select" class="selectpicker form-control">
                      {% for o in data %}
                      <option value="{{ o.name }}">{{ o.name }}</option>
                      {% endfor %}
                    </select>
                    <button type="submit" class="w3-btn w3-light-blue w3-tiny w3-round">Refresh</button>
            </div>
          </div>

        </form>
        <p class="w3-text-grey">The goal of this app is to show the evolution of data over time. The data was prepared using Python and is displayed on this app using Flask and Plotly.
            <ul class="w3-text-grey">
              <li><b>Churn</b>: Evolution of churn over time.</li>
              <li><b>Sessions</b>: Weekly count of unique sessions.</li>
              <li><b>Active User</b>: Total number of active users by week.</li>
            </ul>
        </p>
    </div>

  </div>
</div>


<!-- Footer -->
<footer class="w3-container w3-padding-64 w3-center w3-opacity">
  <div class="w3-xlarge w3-padding-32">
    <i class="fa fa-facebook-official w3-hover-opacity"></i>
    <i class="fa fa-instagram w3-hover-opacity"></i>
    <i class="fa fa-snapchat w3-hover-opacity"></i>
    <i class="fa fa-pinterest-p w3-hover-opacity"></i>
    <i class="fa fa-twitter w3-hover-opacity"></i>
    <i class="fa fa-linkedin w3-hover-opacity"></i>
 </div>

</body>
</html>
